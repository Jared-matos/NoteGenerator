<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Static Template</title>
  </head>

  <style>
    .tableRow {
      display: table-row;
      font-family: calibri;
      size: 12pt;
    }
    .text {
      display: table-cell;
      font-family: calibri;
      size: 12pt;
      width: 200px;
    }
    .iptext {
      display: table-cell;
      font-family: calibri;
      size: 12pt;
      width: 100%;
    }
    #tDiv {
      height: 180px;
      width: 375px;
      border-radius: 10px;
      background-color: #f2f2f2;
      padding: 20px;
    }
    .displayAsCell { display: table-cell;}
    #oText {
      resize: none;
      display: none;
    }
  </style>

  <div id="tDiv">
    <div class="tableRow">
      <span class="text">Caller Name</span>
      <input class="iptext" type="text" id="callerName" autocomplete="off" list="autocompleteOff"/>
    </div>
    <div class="tableRow">
      <span class="text">Callback Number</span>
      <input class="iptext" type="text" id="callbackNumber" autocomplete="off" list="autocompleteOff"/>
    </div>
    <div class="tableRow">
      <span class="text">Relationship to Member</span>
      <input class="iptext" type="text" id="callerRel" autocomplete="off" list="autocompleteOff"/>
    </div>
    <div class="tableRow">
      <div class="displayAsCell">
        <input type="radio" id="NPI" name="NPI/TIN" value="NPI">
        <label>NPI</label>
        <input type="radio" id="TIN" name="NPI/TIN" value="TIN">
        <label>TIN</label>
      </div>
      <input class="iptext" type="text" id="provIDText" autocomplete="off" list="autocompleteOff"/>
    </div>
    <div class="tableRow">
      <span class="text">Facility Name</span>
      <input class="iptext" type="text" id="provNamesText" autocomplete="off" list="autocompleteOff"/>
    </div>
    <div class="tableRow">
      <span class="text">Site Address</span>
      <input class="iptext" type="text" id="siteAddress" autocomplete="off" list="autocompleteOff"/>
    </div>
    <div class="tableRow">
      <label class="text">Confirmed address on file?</label>
      <input type="checkbox" id="confirmedAddress"/>
    </div>
    <div class="displayAsCell">
      <textarea readonly type="text" class="displayAsCell" id="oText"></textarea>
      <button type="button" onclick="copyClipboard()">Copy to Clipboard</button>
      <button type="button" onclick="clearAll()">Clear All</button>
    </div>
  </div>

  <script type="text/javascript">
   
    //Sets vaules of all fields to empty or false
    function clearAll() {
      document.getElementById("callerName").value = "";
      document.getElementById("callbackNumber").value = "";
      document.getElementById("callerRel").value = "";
      document.getElementById("provIDText").value = "";
      document.getElementById("provNamesText").value = "";
      document.getElementById("siteAddress").value = "";
      document.getElementById("confirmedAddress").checked = false;
      document.getElementById("NPI").checked = false;
      document.getElementById("TIN").checked = false;
    }

    // Collects the information from the fields, combines them into an output string, and sends to the clipboard
    function copyClipboard() {
      // collecting information from all the fields & generating output and error texts
      var CALLERNAME = document.getElementById("callerName").value;
      var CBNUM = document.getElementById("callbackNumber").value;
      var CALLERREL = document.getElementById("callerRel").value;
      var PROVID = document.getElementById("provIDText").value;
      var PROVNAME = document.getElementById("provNamesText").value;
      var SITEADD = document.getElementById("siteAddress").value;
      var CNFADD = document.getElementById("confirmedAddress").checked;
      var NPICHK = document.getElementById("NPI").checked;
      var TINCHK = document.getElementById("TIN").checked;
      var outputText = "";
      
      // combining all the data into a single string, any empty required fields are added to error text
      if (CALLERNAME !== "") {outputText = outputText.concat(CALLERNAME, " / ");}
      if (CBNUM !== "") {outputText = outputText.concat("CB# ",CBNUM," / ");}
      if (CALLERREL !== "") {outputText = outputText.concat(CALLERREL, " / ");}
      if (NPICHK == true) {outputText = outputText.concat("NPI: ",PROVID);}
      if (TINCHK == true) {outputText = outputText.concat("TIN: ",PROVID);}
      if (SITEADD !== "") {outputText = outputText.concat(" - ",SITEADD," / ");}
      if (CNFADD == true) {outputText = outputText.concat("Confirmed Address on file / ");} 
      else {outputText = outputText.concat("Unable to confirm address on file / ");}
      // displays the output text box momentarily and fills it with the output text
      document.getElementById("oText").style.display = "block";
      document.getElementById("oText").value = outputText;
      // select and copy the information in the output text box, then hides the information again
      var copyTextarea = document.getElementById("oText");
      copyTextarea.focus();
      copyTextarea.select();
      try { document.execCommand("copy");
      } catch (err) { alert("Oops, unable to copy");}
      document.getElementById("oText").style.display = "none";
      console.log(outputText)
    }
  </script>
  <!--Code hosted on Github @ https://github.com/Jared-matos/NoteGenerator-->
</html>